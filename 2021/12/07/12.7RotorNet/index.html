<div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-12-06T16:00:00.000Z" title="2021/12/7 上午12:00:00">2021-12-07</time>发表</span><span class="level-item"><time dateTime="2021-12-13T01:14:08.367Z" title="2021/12/13 上午9:14:08">2021-12-13</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%85%89%E7%94%B5%E4%BA%A4%E6%8D%A2%E6%9C%BA/">光电交换机</a></span><span class="level-item">14 分钟读完 (大约2119个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">RotorNet</h1><div class="content"><!--toc-->



<p><img src="/2021/12/07/12.7RotorNet/image-20211208215753306.png" alt="image-20211208215753306"></p>
<span id="more"></span>

<h2><span id="背景">背景</span></h2><p>现代数据中心不断增长的带宽需求促使研究人员提出了基于光电路交换机的网络，但这些方案面临着重大的部署挑战。特别是，以前的提案动态配置电路交换机以响应工作负载的变化，需要网络范围的需求估计、集中的电路分配和各种网络元素之间的时间同步，从而导致复杂而笨拙的控制平面。此外，单个电路交换机背后的技术限制了它们可以重新配置的速率和可以构建的网络规模；有必要采取新的办法。</p>
<p>加州大学圣地亚哥分校的研究人员设计了一种称为RotorNet的新解决方案，这是一种基于电路的网络设计，旨在克服上述限制。当RotorNet动态地重新配置其组成电路交换机时，它将交换机配置与流量模式分离。在物理层，RotorNet放松了对底层电路交换机的要求<em>，特别是不要求单个交换机实现一个完整的交叉开关，从而使它们能够扩展到1000个端口</em>。RotorNet在各种工作负载条件下，包括从两个商业数据中心获取的跟踪，都优于价格相当的胖树拓扑。我们还演示了在八节点试验台上实际运行的小型RotorNet。</p>
<p>本文的贡献包括：</p>
<p>1）避免闭环电路调度的光交换网络的设计方向</p>
<p>2）开环Rotor switch和由这些交换机构成的数据中心范围的结构 RotorNet</p>
<p>3）对RotorNet的分析表明，它支持在全二分法带宽下的统一流量，半等分带宽的最坏情况（置换）流量，以及报告的商业数据中心流量，以较低的成本获得理想胖树网络70–90%的带宽</p>
<p>4）原型硬件上RotorNet的VLB类路由算法的演示和评估</p>
<h3><span id="分组交换机的folded-clos-网络">分组交换机的folded-Clos 网络</span></h3><p><img src="/2021/12/07/12.7RotorNet/image-20211208212814996.png" alt="image-20211208212814996"></p>
<p>在折叠clos网络结构中，终端主机基本上与构成网络核心的包交换机解耦。服务器可以将数据发送到任何目的地，而fabric无需与发送方进行进一步通信就可以交付该数据。每个分组交换器都有内部缓冲以吸收突发，以及以线路速率通过交换机传送流量的机制。发送方可能收到的交换机供应不足的唯一信号是包丢失或ECN标记当提供给交换机的负载超过一个或多个传出链路的容量时;在这种情况下，传输协议(如TCP)降低发送速率以收敛到一个可接受的需求。</p>
<p>每个设计都试图将网络配置与当前或未来的流量需求相匹配，以最大限度地提高总体网络吞吐量，这需要一个复杂的<strong>数据中心范围的控制平面</strong>，但很难扩展。</p>
<h3><span id="电路交换机的网络结构">电路交换机的网络结构</span></h3><p><img src="/2021/12/07/12.7RotorNet/image-20211209091205269.png" alt="image-20211209091205269"></p>
<p>最近基于ocs的建议从根本上改变了交换机控制平面的性质。为了最大限度地提高吞吐量，动态地重新配置网络拓扑以响应观测或预测的流量的建议必须执行与上面所示的电子分组交换机相同的任务。然而，虽然分组交换机能够将其内部管理过程隐藏在离散的盒子中，但以前基于ocs的拓扑由于无法缓冲和检查分组，将这种控制复杂性暴露给整个网络，将网络结构变成一个巨大的耦合交叉栏。不需要统一的需求调度或集中的控制器。每个交换机根据预先确定的一组配置独立旋转。</p>
<h2><span id="设计机制">设计机制</span></h2><h3><span id="开环交换">开环交换</span></h3><p>与之前的光交换网络方案不同，转子开关的配置不受本地或全局网络流量条件的驱动。在RotorNet中，转子开关以循环方式独立地通过一个固定的、预先确定的连接模式循环，而不考虑瞬时流量需求。我们选择转子开关配置的时间序列(每个都是输入到输出端口的一对一匹配，或者只是一个“匹配”)，以便在一个完整的匹配周期内，为每个端点(即ToR)提供与其他端点的直接连接。</p>
<p><img src="/2021/12/07/12.7RotorNet/image-20211208215247911.png" alt="image-20211208215247911"></p>
<p>图3演示了这种方法，显示了三个匹配的两个完整循环。我们强调了顶部端口的连接性变化，因为它在不同时间内通过匹配将其连接到第二、第三和第四端口。</p>
<p>因为这种方法将交换机状态与网络中的流量解耦，它不需要需求收集，不需要交换机调度算法，也不需要网络范围内的同步。开关简单地运行“开环”。</p>
<p>作为第一次切割（匹配结束），每个NR端口转子开关可以重复循环通过所有NR!可能匹配，对应于交叉开关提供的全部潜在匹配。然而，对于大的NR来说，完成这个循环需要相当长的时间，而且我们不能保证在任何合理的时间内完成给定的连接。此外，只需(NR−1)匹配即可确保所有NR tor之间的连接。</p>
<p><img src="/2021/12/07/12.7RotorNet/image-20211209091822068.png" alt="image-20211209091822068"></p>
<p><img src="/2021/12/07/12.7RotorNet/image-20211209092529063.png" alt="image-20211209092529063"></p>
<p>对于NR=8，图4(a)显示了这些匹配的示例集。通过这些(NR−1)匹配，可以保证每个ToR在一个匹配周期内都连接到其他ToR。这种功能类似于转子设备。</p>
<p><img src="/2021/12/07/12.7RotorNet/image-20211208215724533.png" alt="image-20211208215724533"></p>
<p>然而，对于具有许多tor的网络，即使是(NR−1)匹配的循环仍然需要很长时间。相反，如图4(b)所示，我们将(NR−1)匹配分配给Nsw个并联 Rotor switch，将匹配周期时间提高了一个Nsw因子。</p>
<p><img src="/2021/12/07/12.7RotorNet/image-20211208220707748.png" alt="image-20211208220707748"></p>
<h3><span id="单跳直接转发">单跳直接转发</span></h3><p><img src="/2021/12/07/12.7RotorNet/image-20211209093149807.png" alt="image-20211209093149807"></p>
<p>鉴于Rotor交换机提供的基线轮循连接，每个ToR必须决定如何在网络上路由流量。对于tor来说，最简单的方法是只沿单跳的直接路径发送数据到每个目的地，从而导致每个源目的地对之间的带宽相等。对于均匀流量，这种行为会导致吞吐量饱和网络的平分带宽(减去交换机占空比)，并且从本质上来说是没有饥饿（链路利用率不足）的。然而，对于<strong>倾斜的流量模式</strong>，当一些tor空闲时，这种方法不能利用松弛的网络容量，从而可能浪费大量的带宽。</p>
<h3><span id="两跳间接转发">两跳间接转发</span></h3><p><img src="/2021/12/07/12.7RotorNet/image-20211209094231600.png" alt="image-20211209094231600"></p>
<p><img src="/2021/12/07/12.7RotorNet/image-20211209095204304.png" alt="image-20211209095204304"></p>
<p>允许流量通过中间端点，中间端点随后将流量转发到最终目的地。</p>
<h3><span id="rotorlb">RotorLB</span></h3><p><img src="/2021/12/07/12.7RotorNet/image-20211209095616376.png" alt="image-20211209095616376"></p>
<p><img src="/2021/12/07/12.7RotorNet/image-20211209102832613.png" alt="image-20211209102832613"></p>
<p>在将新的间接流量发送到网络之前，RotorLB对存储的非本地流量(在其第二跳上)和可以直接发送到当前槽中的目的地的本地流量进行优先级分配。使用该槽中的任何剩余链路容量</p>
<p>允许来自同一流的流量通过 RotorNet 的单跳路径发送，也允许通过多个双跳路径间接发送。这种多路径可能会导致在接收端无序交付。在接收端使用重新排序缓冲区可以确保有序交付</p>
<h2><span id="评估">评估</span></h2><p><img src="/2021/12/07/12.7RotorNet/image-20211209095916632.png" alt="image-20211209095916632"></p>
<h2><span id="问题">问题</span></h2><p>由于直连等待时间较长，RotorNet采用了额外的分组交换机来保证鼠标流的及时交付，但这增加了部署复杂度，在高突发场景下性能较差。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>RotorNet</p><p><a href="http://example.com/2021/12/07/12.7RotorNet/">http://example.com/2021/12/07/12.7RotorNet/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>周 升温</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-12-07</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-12-13</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E5%85%89%E7%94%B5%E4%BA%A4%E6%8D%A2%E6%9C%BA/">光电交换机</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/12/11/ns3.17%E5%AE%89%E8%A3%85/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">ns3.17环境的搭建与奔跑</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/11/29/11.29+7%E5%90%8C%E6%AD%A5TCP/"><span class="level-item">同步TCP</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="SOHUCS" sid="2021/12/07/12.7RotorNet/"></div><script charset="utf-8" src="https://changyan.sohu.com/upload/changyan.js"></script><script>window.changyan.api.config({appid: 'cyvNTrKXF',conf: 'prod_beafff693eade74de3a3de7ec158cb96'});</script></div></div>