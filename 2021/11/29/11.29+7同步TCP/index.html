<div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-28T16:00:00.000Z" title="2021/11/29 上午12:00:00">2021-11-29</time>发表</span><span class="level-item"><time dateTime="2021-12-12T03:07:28.266Z" title="2021/12/12 上午11:07:28">2021-12-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6/">拥塞控制</a></span><span class="level-item">5 分钟读完 (大约692个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">同步TCP</h1><div class="content"><!--toc-->

<p><img src="/2021/11/29/11.29+7%E5%90%8C%E6%AD%A5TCP/image-20211201181633526.png" alt="image-20211201181633526"></p>
<span id="more"></span>

<h2><span id="背景">背景</span></h2><p>改变基于路由器的拥塞控制AQM</p>
<p>提出了一种端到端的AQM替代方案– 一种基于TCP连接中TCP段单向传输时间测量的新的TCP拥塞检测和反应机制。</p>
<h2><span id="核心思想">核心思想</span></h2><p>在TCP报头中放置时间戳，测量单向传输时间的变化，并使用这些测量作为早期拥塞通知的一种形式。因为路由器中的队列在溢出之前就已经建立起来，导致OTT增加。如果发送方直接测量OTT的变化，并在OTT增加表明发生拥塞时退出，拥塞可能会得到缓解。</p>
<h2><span id="设计机制">设计机制</span></h2><p><img src="/2021/11/29/11.29+7%E5%90%8C%E6%AD%A5TCP/image-20211201183028169.png" alt="image-20211201183028169"></p>
<p>（1）此TCP报头选项包括为接收到的最后一段（OTT）计算的OTT（微秒）、当前段的发送时间（时间戳）和接收到的最后一段的发送时间（回复）。当接收器看到任何具有同步TCP时间戳选项的段时，它通过从接收段的时间减去发送段的时间来计算该段的OTT。然后将OTT插入接收机发送给发送方的下一段（通常为ACK）。在接收到ACK时，发送方可以通过从ACK中存在的OTT减去其最小观测OTT来估计当前排队延迟。</p>
<p>（2）同步TCP发送方为接收到的每个ACK获取新的队列延迟估计。对这些排队延迟进行平均，并确定平均排队延迟的趋势。</p>
<p>趋势分析算法基于Jain和Dovrolis[13]的算法</p>
<p><img src="/2021/11/29/11.29+7%E5%90%8C%E6%AD%A5TCP/image-20211201184223841.png" alt="image-20211201184223841"></p>
<p>使用九个ack 平均排队延迟样本进行趋势分析，将九个样本分成三组，按照他们的顺序，每组三个样本。每一组取出它的中位数mi。然后按顺序m0&lt;m2，则认为趋势为增长；m0&gt;m2。则认为趋势为减少。</p>
<p><img src="/2021/11/29/11.29+7%E5%90%8C%E6%AD%A5TCP/image-20211201210953068.png" alt="image-20211201210953068"></p>
<p>每三个ACK计算一个新的趋势。每次接收到ACK时，同步TCP中的拥塞检测机制都会报告两种结果之一：（1）没有收集足够的样本来计算趋势</p>
<p>（2）收集了足够的样本，报告了平均排队延迟与观测到的最大排队延迟之间的关系以及趋势的方向。</p>
<p><img src="/2021/11/29/11.29+7%E5%90%8C%E6%AD%A5TCP/image-20211201193641851.png" alt="image-20211201193641851"></p>
<p><img src="/2021/11/29/11.29+7%E5%90%8C%E6%AD%A5TCP/image-20211201194627965.png" alt="image-20211201194627965"></p>
<p>斜率连续的趋势 =》响应概率</p>
<p>暂停恢复根据响应概率加减窗调整速率</p>
<p>根据斜率来调整窗口大小尽量避免拥塞</p>
<p><strong>如何根据斜率判断突发流</strong></p>
</div><div class="article-licensing box"><div class="licensing-title"><p>同步TCP</p><p><a href="http://example.com/2021/11/29/11.29+7同步TCP/">http://example.com/2021/11/29/11.29+7同步TCP/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>周 升温</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-11-29</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-12-12</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6/">拥塞控制</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%8D%95%E9%A1%B9%E5%BB%B6%E8%BF%9F/">单项延迟</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/12/07/12.7RotorNet/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">RotorNet</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/11/29/11.29%E7%BB%88%E7%AB%AF%E4%B8%BB%E6%9C%BA%E7%9A%84AQM/"><span class="level-item">终端主机的AQM</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="SOHUCS" sid="2021/11/29/11.29+7同步TCP/"></div><script charset="utf-8" src="https://changyan.sohu.com/upload/changyan.js"></script><script>window.changyan.api.config({appid: 'cyvNTrKXF',conf: 'prod_beafff693eade74de3a3de7ec158cb96'});</script></div></div>